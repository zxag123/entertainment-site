import{d as S,y as A,i as V,c as d,a as e,k as z,j as T,n as M,t as n,w as R,v as U,F as O,r as X,f as u,g as y,o as p,_ as q}from"./index-CfLCih6L.js";const G={class:"music-page"},H={class:"container"},J={class:"player-card"},K={class:"track-info"},Q={class:"track-title"},W={class:"track-artist"},Y={class:"progress-section"},Z={class:"time-display"},ee={class:"controls"},te=["title"],se={key:0},ae={key:1},le={class:"volume-section"},ne={class:"playlist-section"},oe={class:"playlist"},ie=["onClick"],ue={class:"track-number"},ce={key:0,class:"playing-indicator"},re={key:1},ve={class:"track-emoji"},de={class:"track-details"},pe={class:"track-name"},me={class:"track-meta"},_e={class:"track-duration"},fe=S({__name:"Music",setup(ge){const c=[{id:1,title:"æˆ‘è¦å¤å¤©",artist:"å‘¨æ°ä¼¦ / æ¨ç‘žä»£",duration:215,emoji:"ðŸ–ï¸",color:"#f59e0b",src:"/music/å‘¨æ°ä¼¦ æ¨ç‘žä»£ - æˆ‘è¦å¤å¤©.FLAC"},{id:2,title:"å¤œæ›²",artist:"å‘¨æ°ä¼¦",duration:226,emoji:"ðŸŒ™",color:"#6366f1",src:"/music/å‘¨æ°ä¼¦ - å¤œæ›².FLAC"},{id:3,title:"ä¸ƒé‡Œé¦™",artist:"å‘¨æ°ä¼¦",duration:299,emoji:"ðŸŒ¸",color:"#ec4899",src:"/music/å‘¨æ°ä¼¦ - ä¸ƒé‡Œé¦™.FLAC"}],i=u(0),o=u(!1),m=u(0),_=u(70),f=u(!1),g=u("list"),j=u(0),t=u(null),r=y(()=>c[i.value]||c[0]),k=y(()=>j.value||r.value?.duration||0),w=y(()=>{const s=k.value;return s?m.value/s*100:0}),b=s=>{if(!s||isNaN(s))return"0:00";const a=Math.floor(s/60),l=Math.floor(s%60);return`${a}:${l.toString().padStart(2,"0")}`},x=()=>{t.value||(t.value=new Audio,t.value.addEventListener("timeupdate",()=>{t.value&&(m.value=t.value.currentTime)}),t.value.addEventListener("ended",()=>{L()}),t.value.addEventListener("loadedmetadata",()=>{const s=t.value;s&&s.duration&&(j.value=s.duration)}))},h=()=>{x(),t.value&&(t.value.src=r.value.src,t.value.volume=_.value/100,t.value.currentTime=0,m.value=0)},F=()=>{x(),t.value&&(o.value?(t.value.pause(),o.value=!1):(t.value.src||h(),t.value.play().then(()=>{o.value=!0}).catch(s=>{console.error("æ’­æ”¾å¤±è´¥:",s),alert("éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨")})))},L=()=>{g.value==="random"?i.value=Math.floor(Math.random()*c.length):i.value=(i.value+1)%c.length,h(),o.value&&t.value?.play()},P=()=>{i.value=(i.value-1+c.length)%c.length,h(),o.value&&t.value?.play()},B=s=>{i.value=s,h(),t.value?.play().then(()=>{o.value=!0})},D=()=>{f.value=!f.value,t.value&&(t.value.muted=f.value)},E=()=>{const s=["list","random","single"],a=s.indexOf(g.value),l=s[(a+1)%s.length];l&&(g.value=l)},I=y(()=>{switch(g.value){case"list":return"ðŸ”";case"random":return"ðŸ”€";case"single":return"ðŸ”‚"}}),N=s=>{const l=s.currentTarget.getBoundingClientRect(),C=(s.clientX-l.left)/l.width*k.value;m.value=C;const $=t.value;$&&($.currentTime=C)};return A(_,s=>{t.value&&(t.value.volume=s/100)}),A(f,s=>{t.value&&(t.value.muted=s)}),V(()=>{t.value&&(t.value.pause(),t.value=null)}),(s,a)=>(p(),d("div",G,[e("div",H,[a[5]||(a[5]=e("div",{class:"page-header"},[e("h1",{class:"page-title"},[e("span",{class:"title-icon"},"ðŸŽµ"),z(" éŸ³ä¹æ”¾æ¾ ")]),e("p",{class:"page-description"},"ç²¾é€‰éŸ³ä¹ï¼Œæ”¾æ¾å¿ƒæƒ…ï¼Œäº«å—ç”Ÿæ´»")],-1)),e("div",J,[e("div",{class:"album-art",style:T({backgroundColor:`${r.value.color}20`})},[e("div",{class:M(["album-emoji",{playing:o.value}])},n(r.value.emoji),3),e("div",{class:M(["vinyl-record",{spinning:o.value}])},[...a[1]||(a[1]=[e("div",{class:"vinyl-center"},null,-1)])],2)],4),e("div",K,[e("h3",Q,n(r.value.title),1),e("p",W,n(r.value.artist),1)]),e("div",Y,[e("div",{class:"progress-bar",onClick:N},[e("div",{class:"progress-fill",style:T({width:`${w.value}%`})},null,4),e("div",{class:"progress-handle",style:T({left:`${w.value}%`})},null,4)]),e("div",Z,[e("span",null,n(b(m.value)),1),e("span",null,n(b(k.value)),1)])]),e("div",ee,[e("button",{class:"control-btn mode-btn",onClick:E,title:g.value},n(I.value),9,te),e("button",{class:"control-btn",onClick:P}," â®ï¸ "),e("button",{class:"play-btn",onClick:F},[o.value?(p(),d("span",se,"â¸ï¸")):(p(),d("span",ae,"â–¶ï¸"))]),e("button",{class:"control-btn",onClick:L}," â­ï¸ "),e("button",{class:"control-btn",onClick:D},n(f.value?"ðŸ”‡":"ðŸ”Š"),1)]),e("div",le,[a[2]||(a[2]=e("span",null,"ðŸ”ˆ",-1)),R(e("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":a[0]||(a[0]=l=>_.value=l),class:"volume-slider"},null,512),[[U,_.value]]),e("span",null,n(_.value)+"%",1)])]),e("div",ne,[a[4]||(a[4]=e("h3",{class:"playlist-title"},"æ’­æ”¾åˆ—è¡¨",-1)),e("div",oe,[(p(),d(O,null,X(c,(l,v)=>e("div",{key:l.id,class:M(["playlist-item",{active:v===i.value,playing:v===i.value&&o.value}]),onClick:C=>B(v)},[e("div",ue,[v===i.value&&o.value?(p(),d("span",ce,[...a[3]||(a[3]=[e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1)])])):(p(),d("span",re,n(v+1),1))]),e("div",ve,n(l.emoji),1),e("div",de,[e("span",pe,n(l.title),1),e("span",me,n(l.artist),1)]),e("span",_e,n(b(l.duration)),1)],10,ie)),64))])])])]))}}),ye=q(fe,[["__scopeId","data-v-05903bb4"]]);export{ye as default};
//# sourceMappingURL=Music-CLm0Itxp.js.map
